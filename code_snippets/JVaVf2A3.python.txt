import random
import json as j
from cryptography.fernet import Fernet
import re
import os
import shutil
import csv
import sys
import string
import mysql.connector as mys
obj = mys.connect(host = 'localhost',user='root',password = 'root',database = 'password_manager')
cursor = obj.cursor()
Â 
def currentfile_location_writer(a = os.path.join(f'{os.getcwd()}', "passwords.txt")):
Â  Â  if not os.path.exists(a):
Â  Â  Â  Â  with open(a, "w"):
Â  Â  Â  Â  Â  Â  pass
Â  Â  with open('text_file.txt', 'w') as f:
Â  Â  Â  Â  f.write(a)
Â  Â  return a
Â 
def currentfile_location():
Â  Â  if os.path.exists(os.path.join(f'{os.getcwd()}','text_file.txt')):
Â  Â  Â  Â  Â  Â  with open('text_file.txt') as f:
Â  Â  Â  Â  Â  Â  Â  Â  a = f.read()
Â  Â  Â  Â  Â  Â  Â  Â  if os.path.exists(a):
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return a
Â  Â  Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentfile_location_writer()
Â  Â  else:
Â  Â  Â  Â  currentfile_location_writer()
Â 
def csv_filelocation_writer(a=os.path.join(f'{os.getcwd()}', "passwords.csv")):
Â  Â  if not os.path.exists(a):
Â  Â  Â  Â  with open(a, "w"):
Â  Â  Â  Â  Â  Â  pass
Â  Â  with open("text_file.csv", "w") as f:
Â  Â  Â  Â  f.write(a)
Â  Â  return a
Â 
def csv_filelocation():
Â  Â  if os.path.exists(os.path.join(f'{os.getcwd()}','text_file.csv')):
Â  Â  Â  Â  with open('text_file.csv') as f:
Â  Â  Â  Â  Â  Â  a = f.read()
Â  Â  Â  Â  Â  Â  if os.path.exists(a):
Â  Â  Â  Â  Â  Â  Â  Â  return a
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  csv_filelocation_writer()
Â  Â  else:
Â  Â  Â  Â  csv_filelocation_writer()
Â 
Â 
def key_generator():
Â  Â  key = Fernet.generate_key()
Â  Â  with open('filekey.key', 'wb') as filekey:
Â  Â  Â  Â  filekey.write(key)
Â  Â  return key
Â 
Â 
def encrypt():
Â  Â  currentfileloc = currentfile_location()
Â  Â  csvfileloc = csv_filelocation()
Â  Â  with open(currentfileloc,"rb") as filekey:
Â  Â  Â  Â  original = filekey.read()
Â  Â  fernet1 = Fernet(key_generator())
Â  Â  encrypted = fernet1.encrypt(original)
Â  Â  with open(currentfileloc,"wb") as f:
Â  Â  Â  Â  f.write(encrypted)
Â  Â  with open(csvfileloc,"rb") as filekey:
Â  Â  Â  Â  original1 = filekey.read()
Â  Â  encrypted = fernet1.encrypt(original)
Â  Â  with open(csvfileloc, 'wb') as f:
Â  Â  Â  Â  f.write(encrypted)
Â  Â  dest_path = f'{currentfileloc}'+'.enc'
Â  Â  dest_path1 = f'{csvfileloc}'+'.enc'
Â  Â  enc_file_name(currentfileloc, dest_path)
Â  Â  enc_file_name(csvfileloc, dest_path1)
Â  Â  currentfile_location_writer(dest_path)
Â  Â  csv_filelocation_writer(dest_path1)
Â 
def enc_file_name(a,b):
Â  Â  os.rename(a,b)
Â 
Â 
Â 
Â 
def decrypt():
Â  Â  currentfileloc = currentfile_location()
Â  Â  csvfileloc = csv_filelocation()
Â  Â  dest_path = f'{currentfileloc}'.replace('.enc','')
Â  Â  dest_path1 = f'{csvfileloc}'.replace('.enc','')
Â  Â  print(dest_path,dest_path1)
Â  Â  enc_file_name(currentfileloc,dest_path)
Â  Â  enc_file_name(csvfileloc,dest_path1)
Â  Â  currentfile_location_writer(dest_path)
Â  Â  csv_filelocation_writer(dest_path1)
Â 
Â  Â  with open('filekey.key','rb') as f:
Â  Â  Â  Â  fernet1 = Fernet(f.read())
Â  Â  with open(dest_path, 'rb') as enc_file:
Â  Â  Â  Â  encrypted = enc_file.read()
Â  Â  decrypted = fernet1.decrypt(encrypted)
Â  Â  with open(dest_path, "w") as f:
Â  Â  Â  Â  f.write(decrypted.decode())
Â 
Â  Â  # opening the file in write mode and
Â  Â  # writing the decrypted data
Â  Â  with open(dest_path1,"rb") as enc_file:
Â  Â  Â  Â  encrypted = enc_file.read()
Â  Â  decrypted = fernet1.decrypt(encrypted)
Â  Â  with open(dest_path1, "w") as f:
Â  Â  Â  Â  f.write(decrypted.decode())
Â 
Â 
Â 
Â 
Â 
Â 
Â 
Â 
def check_access():
Â  Â  csv_filelocation()
Â  Â  currentfile_location()
Â  Â  if not master_key_exists():
Â  Â  Â  Â  create_master_key()
Â  Â  Â  Â  return True
Â 
Â  Â  else:
Â  Â  Â  Â  master_key = get_master_key()
Â  Â  Â  Â  attempts = 3
Â  Â  Â  Â  while attempts > 0:
Â  Â  Â  Â  Â  Â  attempts -= 1
Â  Â  Â  Â  Â  Â  user_input = input('Enter master key: ')
Â  Â  Â  Â  Â  Â  if user_input != master_key:
Â  Â  Â  Â  Â  Â  Â  Â  print('Wrong key, please try again.')
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  return True
Â  Â  
Â 
Â 
Â  Â  return False
Â 
Â 
def get_master_key():
Â  Â  with open("masterfile.txt") as f:
Â  Â  Â  Â  a = f.read()
Â  Â  Â  Â  return a
Â 
Â 
Â 
def create_master_key():
Â  Â  with open("masterfile.txt", 'w') as f:
Â  Â  Â  Â  mk = input("Set Master Key:")
Â  Â  Â  Â  mk1 = input("Confirm Master Key:")
Â  Â  Â  Â  while mk1!= mk:input("Confirm Master Key:")
Â  Â  Â  Â  f.write(mk)
Â  Â  Â  Â  print("master key successfully created")
Â 
Â 
Â 
def master_key_exists():
Â  Â  if os.path.exists((os.path.join(f"{os.getcwd()}", "masterfile.txt"))) :
Â  Â  Â  Â  with open((os.path.join(f"{os.getcwd()}", "masterfile.txt"))) as f:
Â  Â  Â  Â  Â  Â  if len(f.read())!=0:
Â  Â  Â  Â  Â  Â  Â  Â  return True
Â  Â  else:
Â  Â  Â  Â  return False
Â 
Â 
def final_password():
Â  Â  set = string.ascii_letters + string.digits + string.punctuation
Â  Â  try:
Â  Â  Â  Â  length = int(input("enter Â desired length of password:"))
Â  Â  except TypeError:
Â  Â  Â  Â  print("TypeError: enter a number")
Â  Â  password = ''.join([random.SystemRandom().choice(set) for _ in range(length)])
Â  Â  return password
Â 
Â 
def exist_check(a, b):
Â  Â  currentfileloc = currentfile_location()
Â  Â  with open (currentfileloc) as f:
Â  Â  Â  Â  new = f.read().split('\n')
Â  Â  Â  Â  print(new)
Â  Â  Â  Â  if len(new)>1:
Â  Â  Â  Â  Â  Â  a1 = [j.loads(i) for i in new if i !='']
Â  Â  Â  Â  Â  Â  print(a1)
Â  Â  Â  Â  Â  Â  for i in a1:
Â  Â  Â  Â  Â  Â  Â  Â  if a in i.keys() and b in i[a]:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return True
Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  return False
Â 
Â 
Â 
Â 
Â 
def view_func():
Â  Â  c = currentfile_location()
Â  Â  with open(c) as f:
Â  Â  Â  Â  return f.read()
Â 
Â 
Â 
def edit(a,b):
Â  Â  currentfileloc,csvv = currentfile_location(),csv_filelocation()
Â  Â  try:
Â  Â  Â  Â  with open(currentfileloc) as f:
Â  Â  Â  Â  Â  Â  a1 = j.loads(f.read())
Â 
Â  Â  except:
Â  Â  Â  Â  print("no saves found!")
Â  Â  Â  Â  return None
Â 
Â  Â  if a not in a1.keys(): return "does not exist"
Â  Â  elif b not in [i[0] for i in a1.values()]:return "does not exist"
Â  Â  for i in a1.keys():
Â  Â  Â  Â  if a1[i][0] == b:
Â  Â  Â  Â  Â  Â  option = input("1.regenarate password,\n2.manually change password,\n3.delete save\n:")
Â  Â  Â  Â  Â  Â  if option not in ("1","2","3"):return False
Â  Â  Â  Â  Â  Â  elif option == "1":
Â  Â  Â  Â  Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  Â  Â  Â  Â  a1[i][1] == password
Â  Â  Â  Â  Â  Â  Â  Â  cursor.execute("update pwm set password =(%s) where Domain = (%s) and Gmail = (%s)",(a,b,a1[i][1]))
Â  Â  Â  Â  Â  Â  Â  Â  print(a1[i])
Â  Â  Â  Â  Â  Â  Â  Â  return "successful"
Â  Â  Â  Â  Â  Â  elif option == "2": a1[i][1] = input("enter password:")
Â  Â  Â  Â  Â  Â  elif option == "3": del a1[i][1]
Â  Â  Â  Â  Â  Â  write_func(b)
Â  Â  Â  Â  Â  Â  csv_operations(b)
Â 
Â 
Â 
def write_func(l):
Â  Â  currentfileloc = currentfile_location()
Â  Â  with open(currentfileloc, "a") as a:
Â  Â  Â  Â  a.write(j.dumps(l)+'\n')
Â 
Â 
Â 
Â 
def copyanother_csvfile_remove_exsisting_file():
Â  Â  currentfile = csv_filelocation()
Â  Â  newfile = input("enter file path")
Â  Â  while not os.path.exists(newfile) and ".csv" not in newfile:newfile = input("enter file path, should be csv:")
Â  Â  shutil.copyfile(currentfile,newfile)
Â  Â  os.remove(currentfile)
Â  Â  csv_filelocation_writer(newfile)
Â 
Â 
def copytoanother_file_remove_exisitingfile():
Â  Â  currentfileloc = currentfile_location()
Â  Â  newfile = input("enter file path:")
Â  Â  while not os.path.exists(newfile) or not ".txt" not in newfile:newfile = input("enter file path:")
Â  Â  shutil.copyfile(currentfileloc, newfile)
Â  Â  os.remove(currentfileloc)
Â  Â  currentfile_location_writer(currentfileloc)
def csv_operations(l):
Â  Â  csvfileloc = csv_filelocation()
Â  Â  with open(csvfileloc, 'a+', newline="") as csvfile:
Â  Â  Â  Â  f = csv.writer(csvfile, delimiter=' ')
Â  Â  Â  Â  f.writerow(j.dumps(l))
Â 
Â 
Â 
def phone_number(s):
Â  Â  regex = re.compile(r"^(?:\+44|0)7\d{9}$")
Â  Â  return regex.match(s)
Â 
Â  Â 
Â 
Â 
def check(email):
Â  Â  regex = '^[a-z0-9]+[\._]?[a-z0-9]+[@]\w+[.]\w{2,3}$'
Â 
Â  Â  if (re.search(regex, email)):
Â  Â  Â  Â  print("Valid Email")
Â  Â  Â  Â  return (email)
Â  Â  else:
Â  Â  Â  Â  print("Invalid Email")
Â  Â  Â  Â  check(input("enter email:"))
Â 
Â 
def del_func():
Â  Â  currentfileloc = currentfile_location()
Â  Â  csvfileloc = csv_filelocation()
Â  Â  if os.path.exists(currentfileloc):
Â  Â  Â  Â  os.remove(currentfileloc)
Â  Â  Â  Â  print("sucessful")
Â  Â  Â  Â  exit()
Â  Â  else:
Â  Â  Â  Â  print("file does not exist")
Â  Â  Â  Â  exit()
Â 
Â 
Â 
Â 
def password_generator():
Â  Â  domainname = str(input("enter domain name :"))
Â  Â  username = str(input("enter username :"))
Â 
Â 
def instagram():
Â  Â  email = input("enter email: ")
Â  Â  b = check(email)
Â  Â  a = exist_check("instagram",b)
Â  Â  if not a:
Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  L = {'instagram': [f'{email}', f"{password}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("instagram"),(%s),(%s));', (email, password))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â  Â  else:print("account aldready exists")
Â 
Â 
Â 
# write_func(password)
def facebook():
Â  Â  email = input("enter email: ")
Â  Â  b = check(email)
Â  Â  a = exist_check("facebook", b)
Â  Â  if not a:
Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  L = {'facebook': [f'{email}', f"{password}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("facebook"),(%s),(%s));', (email, password))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â 
Â  Â  else:
Â  Â  Â  Â  print("account aldready exists")
Â 
Â 
def twitter():
Â  Â  email = input("enter email: ")
Â  Â  b = check(email)
Â  Â  a = exist_check("twitter", b)
Â  Â  if not a:
Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  L = {'twitter': [f'{email}', f"{password}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("twiiter"),(%s),(%s));', (email, password))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â  Â  else:
Â  Â  Â  Â  print("account aldready exists")
Â 
Â 
Â 
Â 
def netflix():
Â  Â  email = input("enter email: ")
Â  Â  b = check(email)
Â  Â  a = exist_check("netflix", b)
Â  Â  if not a:
Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  L = {'netflix': [f'{email}', f"{password}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("netflix"),(%s),(%s));', (email, password))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â  Â  else:
Â  Â  Â  Â  print("account aldready exists")
Â 
Â 
Â 
Â 
def amazon():
Â  Â  email = input("enter emaiil: ")
Â  Â  b = check(email)
Â  Â  a = exist_check("amazon", b)
Â  Â  if not a:
Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  L = {'amazon': [f'{email}', f"{password}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("amazon"),(%s),(%s));', (email, password))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â  Â  else:
Â  Â  Â  Â  print("account aldready exists")
Â 
Â 
Â 
Â 
def gmail():
Â  Â  email = input("enter email: ")
Â  Â  b = check(email)
Â  Â  a = exist_check("gmail", b)
Â  Â  if not a:
Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  b = passcheck(password)
Â  Â  Â  Â  while b == False:
Â  Â  Â  Â  Â  Â  password = final_password()
Â  Â  Â  Â  Â  Â  b = passcheck(password)
Â  Â  Â  Â  m = password
Â  Â  Â  Â  L = {'gmail': [f'{email}', f"{password}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("gmail"),(%s),(%s));', (email, password))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â  Â  else:
Â  Â  Â  Â  print("account aldready exists")
Â 
Â 
Â 
Â 
def reddit():
Â  Â  email = input("enter email: ")
Â  Â  check(email)
Â  Â  a = final_password()
Â  Â  b = passcheck(a)
Â  Â  if not a:
Â  Â  Â  Â  while b == False:
Â  Â  Â  Â  Â  Â  a = final_password()
Â  Â  Â  Â  Â  Â  b = passcheck(a)
Â  Â  Â  Â  reddit_pass = a
Â  Â  Â  Â  L = {'gmail': [f'{email}', f"{reddit_pass}"]}
Â  Â  Â  Â  cursor.execute('insert into pwm values(("reddit"),(%s),(%s));', (email, reddit_pass))
Â  Â  Â  Â  write_func(L)
Â  Â  Â  Â  csv_operations(L)
Â  Â  else:
Â  Â  Â  Â  print("account aldready exists")
Â 
Â 
def passcheck(a):
Â  Â  y = []
Â  Â  for x in a:
Â  Â  Â  Â  y.append(x)
Â  Â  i = 0
Â  Â  newvar = True
Â  Â  while i < len(y):
Â  Â  Â  Â  if [y[i]] != [y[i + 1]] and y[i]+y[i+1]!="\n":
Â  Â  Â  Â  Â  Â  i = i + 2
Â  Â  Â  Â  Â  Â  newvar = True
Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  newvar = False
Â  Â  Â  Â  Â  Â  break
Â  Â  Â  Â  return newvar
Â 
Â 
def new_accnt_details():
Â  Â  email = input("enter email")
Â  Â  check(email)
Â  Â  domain = input("enter domain:")
Â  Â  if domain.lower() in ['instagram', 'facebook', 'twitter', 'netflix', 'gmail', 'reddit', 'amazon']:
Â  Â  Â  Â  print("that domain is availabe in our prebuilts, please select the appropriate option")
Â  Â  Â  Â  main_menu()
Â  Â  password = final_password()
Â  Â  L = {f'{domain}': [f'{email}', f"{password}"]}
Â  Â  cursor.execute('insert into pwm values((%s),(%s),(%s));', (domain,email, password))
Â  Â  write_func(L)
Â  Â  csv_operations(L)
Â 
Â 
Â 
def emailgen():
Â  Â  num_of_chars = int(input("enter number of characters between 4 to 20: "))
Â  Â  if num_of_chars < 4 or num_of_chars > 20:
Â  Â  Â  Â  print("number of chars excceding limit")
Â  Â  Â  Â  emailgen()
Â 
Â  Â  else:
Â  Â  Â  Â  listofletters = [string.digits, string.ascii_lowercase, string.ascii_uppercase]
Â  Â  Â  Â  letters = "".join(listofletters)
Â  Â  Â  Â  emailformat = Â "@gmail.com"
Â  Â  Â  Â  emailgenerated = "".join(random.choices(letters, k = num_of_chars))+emailformat
Â  Â  Â  Â  print(emailgenerated)
Â 
Â 
def main_menu():
Â  Â  print("âºËš*â€¢Ì©Ì©Í™âœ©â€¢Ì©Ì©Í™*Ëšâºâ€§Í™âºËš*â€¢Ì©Ì©Í™â‹†âºâ‚Šâ‹†Æ¸ÌµÌ¡ÓœÌµÌ¨Ì„Æ·â‹†âºâ‚Šâ‹†â€¢Ì©Ì©Í™*Ëšâºâ€§Í™âºËš*â€¢Ì©Ì©Í™âœ©â€¢Ì©Ì©Í™*Ëšâºâ€§Í™")
Â  Â  print("1.generate a password")
Â  Â  print("2.managing password saves")
Â  Â  print("3.file settings")
Â  Â  print("4.add an existing account for saving")
Â  Â  print("5.generate new gmail id")
Â  Â  print("6.exit program")
Â  Â  print("âºËš*â€¢Ì©Ì©Í™âœ©â€¢Ì©Ì©Í™*Ëšâºâ€§Í™âºËš*â€¢Ì©Ì©Í™â‹†âºâ‚Šâ‹†Æ¸ÌµÌ¡ÓœÌµÌ¨Ì„Æ·â‹†âºâ‚Šâ‹†â€¢Ì©Ì©Í™*Ëšâºâ€§Í™âºËš*â€¢Ì©Ì©Í™âœ©â€¢Ì©Ì©Í™*Ëšâºâ€§")
Â  Â  action = input("enter key :")
Â  Â  if (action == '1'):
Â 
Â  Â  Â  Â  print(
Â  Â  Â  Â  Â  Â  "â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±"
Â  Â  Â  Â  Â  Â  "\nWhich of the following sites would you like to generate a password for:\n1.instagram\n2.facebook\n3.twitter\n4.netflix\n5.reddit\n6.amazon\n7.gmail\n8.other\n9.menu"
Â  Â  Â  Â  Â  Â  "\nâ•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±â•²ââ§¹â•²ââ§¹â§¸â â•±â§¸â â•±")
Â  Â  Â  Â  key = input("enter key :")
Â 
Â  Â  Â  Â  if (key == '1'):
Â  Â  Â  Â  Â  Â  instagram()
Â  Â  Â  Â  elif (key == '2'):
Â  Â  Â  Â  Â  Â  facebook()
Â  Â  Â  Â  elif (key == '3'):
Â  Â  Â  Â  Â  Â  twitter()
Â  Â  Â  Â  elif (key == '4'):
Â  Â  Â  Â  Â  Â  netflix()
Â  Â  Â  Â  elif (key == '5'):
Â  Â  Â  Â  Â  Â  reddit()
Â  Â  Â  Â  elif (key == '6'):
Â  Â  Â  Â  Â  Â  amazon()
Â  Â  Â  Â  elif (key == '7'):
Â  Â  Â  Â  Â  Â  gmail()
Â  Â  Â  Â  elif (key == "8"):
Â  Â  Â  Â  Â  Â  new_accnt_details()
Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  print("key does not match!\n enter a valid option")
Â  Â  Â  Â  Â  Â  main_menu()
Â  Â  elif (action == '2'):
Â  Â  Â  Â  print("1.view saved passwords"
Â  Â  Â  Â  Â  Â  Â  "\n2.edit saved passwords")
Â  Â  Â  Â  keyforaction_2 = input("enter key:")
Â 
Â  Â  Â  Â  if (keyforaction_2 == "1"):
Â  Â  Â  Â  Â  Â  print(view_func())
Â  Â  Â  Â  elif (keyforaction_2 == "2"):
Â 
Â  Â  Â  Â  Â  Â  edit(input("domain:"),input("mail:"))
Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  print("thats not a valid key!")
Â  Â  Â  Â  Â  Â  encrypt()
Â  Â  Â  Â  Â  Â  exit()
Â  Â  elif (action == '3'):
Â  Â  Â  Â  key = input("\nchoose the following actions:\n1.delete file\n2.copy data to another file and delete existing file\n:")
Â  Â  Â  Â  if key not in ['1', '2']:
Â  Â  Â  Â  Â  Â  print("\nplease choose a valid key")
Â  Â  Â  Â  Â  Â  main_menu()
Â  Â  Â  Â  elif (key == "1"):
Â  Â  Â  Â  Â  Â  del_func()
Â  Â  Â  Â  elif (key == '2'):
Â  Â  Â  Â  Â  Â  print("\nAre you sure want to permanently delete this file and move dta to a new file")
Â  Â  Â  Â  Â  Â  key = input("1.yes""\n2.no")
Â  Â  Â  Â  Â  Â  if key == '1':
Â  Â  Â  Â  Â  Â  Â  Â  copytoanother_file_remove_exisitingfile()
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  obj.commit()
Â  Â  Â  Â  Â  Â  Â  Â  encrypt()
Â  Â  Â  Â  Â  Â  Â  Â  exit()
Â 
Â 
Â 
Â 
Â 
Â  Â  elif (action == '4'):
Â  Â  Â  Â  new_accnt_details()
Â 
Â  Â  elif (action == '5'):
Â  Â  Â  Â  emailgen()
Â 
Â 
Â  Â  elif (action == '6'):
Â  Â  Â  Â  print("exiting")
Â  Â  Â  Â  print(
Â  Â  Â  Â  Â  Â  "ğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸğŸ’ âƒŸ")
Â  Â  Â  Â  encrypt()
Â  Â  Â  Â  obj.commit()
Â  Â  Â  Â  sys.exit()
Â 
Â 
if ".enc" not in f'{currentfile_location()}'and ".enc" not in f'{csv_filelocation()}' and not os.path.exists(os.path.join(f'{os.getcwd()}','filekey.key')):
Â  Â  pass
else:
Â  Â  decrypt()
if check_access():
Â  Â  a = 'y'
Â  Â  try:
Â  Â  Â  Â  while a.lower() == 'y':
Â 
Â  Â  Â  Â  Â  Â  print("Welcome to password Generator and Manager!")
Â  Â  Â  Â  Â  Â  print("press the key to perform the required action!")
Â  Â  Â  Â  Â  Â  main_menu()
Â  Â  Â  Â  Â  Â  a = input("would you like to continue?(y/n) :")
Â  Â  Â  Â  Â  Â  if a.lower() == '':
Â  Â  Â  Â  Â  Â  Â  Â  obj.commit()
Â  Â  Â  Â  Â  Â  Â  Â  encrypt()
Â  Â  Â  Â  Â  Â  Â  Â  print("no input detected")
Â  Â  Â  Â  Â  Â  Â  Â  sys.exit()
Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  obj.commit()
Â  Â  Â  Â  Â  Â  encrypt()
Â  Â  Â  Â  Â  Â  sys.exit()
Â  Â  except KeyboardInterrupt:
Â  Â  Â  Â  encrypt()
Â  Â  Â  Â  obj.commit()
Â  Â  Â  Â  print(" program interrupted")
Â  Â  Â  Â  sys.exit(0)
Â  Â  Â  Â  
else:
Â  Â  sys.exit()