{% extends 'main.html' %}
{% load static %}
{% block content %}
<div class="container">
    <!-- Friends list on the left -->
    <div class="col-md-3">
        <div class="friends">
            <p>Twoje Matche</p>
            <ul>
                {% for friend in friends %}
                <a user-uuid="{{ friend.id }}" href="#">
                    <li>{{ friend.username }}</li>
                </a>
                {% for user, message in top_messages.items %}
                {% if message.sender_id.id == friend.id or message.recipient_id.id == friend.id %}
                <p>{{ message }}</p>
                {% endif %}
                {% endfor %}
                {% endfor %}
            </ul>
        </div>

        <!-- Chat on the right -->
        <div class="col-md-9">
            <h1>Chat</h1>
            <form id="chat-form">
                <input type="text" id="chat-message-input" name="message" placeholder="Type your message here..." />
            </form>
            <div id="messages"></div>
            <script type="text/javascript" src="{% static 'js/chat.js' %}"></script>
        </div>
    </div>
</div>
{% endblock %}